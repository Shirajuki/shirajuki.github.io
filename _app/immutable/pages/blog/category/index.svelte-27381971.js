import{S as O,i as P,s as S,l as d,u as E,a as k,m as b,p as y,v as j,h,c as w,b as v,J as m,n as C,U,q as M,w as q}from"../../../chunks/index-1e94f496.js";function H(c,s,i){const a=c.slice();return a[1]=s[i],a}function L(c){let s,i,a,r=c[1]+"",n,u,f=c[0][c[1]]+"",_,o,e;return{c(){s=d("li"),i=d("h2"),a=d("a"),n=E(r),u=E(" - "),_=E(f),e=k(),this.h()},l(l){s=b(l,"LI",{});var t=y(s);i=b(t,"H2",{});var p=y(i);a=b(p,"A",{href:!0});var g=y(a);n=j(g,r),u=j(g," - "),_=j(g,f),g.forEach(h),p.forEach(h),e=w(t),t.forEach(h),this.h()},h(){M(a,"href",o=`/blog/category/${c[1]}`)},m(l,t){v(l,s,t),m(s,i),m(i,a),m(a,n),m(a,u),m(a,_),m(s,e)},p(l,t){t&1&&r!==(r=l[1]+"")&&q(n,r),t&1&&f!==(f=l[0][l[1]]+"")&&q(_,f),t&1&&o!==(o=`/blog/category/${l[1]}`)&&M(a,"href",o)},d(l){l&&h(s)}}}function $(c){let s,i,a,r,n,u,f,_=Object.keys(c[0]),o=[];for(let e=0;e<_.length;e+=1)o[e]=L(H(c,_,e));return{c(){s=d("h1"),i=E("categories"),a=k(),r=d("p"),n=E("My categories..."),u=k(),f=d("ul");for(let e=0;e<o.length;e+=1)o[e].c()},l(e){s=b(e,"H1",{});var l=y(s);i=j(l,"categories"),l.forEach(h),a=w(e),r=b(e,"P",{});var t=y(r);n=j(t,"My categories..."),t.forEach(h),u=w(e),f=b(e,"UL",{});var p=y(f);for(let g=0;g<o.length;g+=1)o[g].l(p);p.forEach(h)},m(e,l){v(e,s,l),m(s,i),v(e,a,l),v(e,r,l),m(r,n),v(e,u,l),v(e,f,l);for(let t=0;t<o.length;t+=1)o[t].m(f,null)},p(e,[l]){if(l&1){_=Object.keys(e[0]);let t;for(t=0;t<_.length;t+=1){const p=H(e,_,t);o[t]?o[t].p(p,l):(o[t]=L(p),o[t].c(),o[t].m(f,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=_.length}},i:C,o:C,d(e){e&&h(s),e&&h(a),e&&h(r),e&&h(u),e&&h(f),U(o,e)}}}const J=async({fetch:c})=>{const i=await(await c("/api/posts.json")).json(),a={};return i.flatMap(n=>n.meta.category).forEach(n=>{a[n]=a[n]?a[n]+1:1}),{props:{categories:a}}};function A(c,s,i){let{categories:a}=s;return c.$$set=r=>{"categories"in r&&i(0,a=r.categories)},[a]}class z extends O{constructor(s){super(),P(this,s,A,$,S,{categories:0})}}export{z as default,J as load};
