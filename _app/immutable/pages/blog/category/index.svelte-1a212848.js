import{S as P,i as S,s as U,l as d,r as y,a as k,m as E,n as b,u as j,h,c as C,b as v,J as m,E as M,U as $,p as w,v as H}from"../../../chunks/index-a24079f7.js";function L(c,s,i){const a=c.slice();return a[1]=s[i],a}function O(c){let s,i,a,r=c[1]+"",n,u,f=c[0][c[1]]+"",_,o,e;return{c(){s=d("li"),i=d("h2"),a=d("a"),n=y(r),u=y(" - "),_=y(f),e=k(),this.h()},l(l){s=E(l,"LI",{});var t=b(s);i=E(t,"H2",{});var p=b(i);a=E(p,"A",{href:!0});var g=b(a);n=j(g,r),u=j(g," - "),_=j(g,f),g.forEach(h),p.forEach(h),e=C(t),t.forEach(h),this.h()},h(){w(a,"href",o=`/blog/category/${c[1]}`)},m(l,t){v(l,s,t),m(s,i),m(i,a),m(a,n),m(a,u),m(a,_),m(s,e)},p(l,t){t&1&&r!==(r=l[1]+"")&&H(n,r),t&1&&f!==(f=l[0][l[1]]+"")&&H(_,f),t&1&&o!==(o=`/blog/category/${l[1]}`)&&w(a,"href",o)},d(l){l&&h(s)}}}function q(c){let s,i,a,r,n,u,f,_=Object.keys(c[0]),o=[];for(let e=0;e<_.length;e+=1)o[e]=O(L(c,_,e));return{c(){s=d("h1"),i=y("categories"),a=k(),r=d("p"),n=y("My categories..."),u=k(),f=d("ul");for(let e=0;e<o.length;e+=1)o[e].c()},l(e){s=E(e,"H1",{});var l=b(s);i=j(l,"categories"),l.forEach(h),a=C(e),r=E(e,"P",{});var t=b(r);n=j(t,"My categories..."),t.forEach(h),u=C(e),f=E(e,"UL",{});var p=b(f);for(let g=0;g<o.length;g+=1)o[g].l(p);p.forEach(h)},m(e,l){v(e,s,l),m(s,i),v(e,a,l),v(e,r,l),m(r,n),v(e,u,l),v(e,f,l);for(let t=0;t<o.length;t+=1)o[t].m(f,null)},p(e,[l]){if(l&1){_=Object.keys(e[0]);let t;for(t=0;t<_.length;t+=1){const p=L(e,_,t);o[t]?o[t].p(p,l):(o[t]=O(p),o[t].c(),o[t].m(f,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=_.length}},i:M,o:M,d(e){e&&h(s),e&&h(a),e&&h(r),e&&h(u),e&&h(f),$(o,e)}}}const J=async({fetch:c})=>{const i=await(await c("/api/posts.json")).json(),a={};return i.flatMap(n=>n.meta.category).forEach(n=>{a[n]=a[n]?a[n]+1:1}),{props:{categories:a}}};function A(c,s,i){let{categories:a}=s;return c.$$set=r=>{"categories"in r&&i(0,a=r.categories)},[a]}class z extends P{constructor(s){super(),S(this,s,A,q,U,{categories:0})}}export{z as default,J as load};
